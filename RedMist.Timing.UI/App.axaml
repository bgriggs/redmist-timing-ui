<Application xmlns="https://github.com/avaloniaui"
			 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
			 xmlns:conv="clr-namespace:RedMist.Timing.UI.Converters"
			 x:Class="RedMist.Timing.UI.App"
			 RequestedThemeVariant="Default">
	<!-- "Default" ThemeVariant follows system theme variant. "Dark" or "Light" are other available options. -->

	<Application.Resources>
		<ResourceDictionary>
			<!-- Global converters -->
			<conv:FlagToBrushConverter x:Key="FlagToColorConverter"/>
			<conv:FlagIsCheckeredConverter x:Key="FlagIsCheckeredConverter"/>
			<conv:FlagIsNotCheckeredConverter x:Key="FlagIsNotCheckeredConverter"/>
			<!-- Shared icon geometries -->
			<StreamGeometry x:Key="flaggeom">M 14.4,6 14,4 H 5 v 17 h 2 v -7 h 5.6 l 0.4,2 h 7 V 6 Z</StreamGeometry>
			<StreamGeometry x:Key="flagopngeom">M883.405 807.697c-5.875 6.127-14.128 9.934-23.27 9.934-0.087 0-0.174 0-0.261-0.001h0.013c-10.717-2.174-20.23-5.987-28.788-11.212l0.389 0.221c-14.438-7.305-29.764-15.428-45.909-24.508-16.258-9.045-35.248-17.346-55.058-23.84l-2.355-0.668c-18.25-6.596-39.315-10.59-61.258-10.988l-0.182-0.003c-0.638-0.014-1.391-0.023-2.145-0.023-15.913 0-30.968 3.674-44.362 10.219l0.598-0.264c-30.956 15.422-68.742 30.963-107.674 44.001l-6.57 1.908c-30.441 9.621-65.449 15.165-101.753 15.165-0.924 0-1.847-0.004-2.769-0.011l0.142 0.001c-81.211-3.786-156.347-26.548-222.098-63.916l2.45 1.282c-17.067-8.465-29.082-14.985-36.932-19.797l-7.817 57.207c17.669 15.374 28.774 37.897 28.774 63.015 0 46.054-37.334 83.388-83.388 83.388s-83.388-37.334-83.388-83.388c0-29.984 15.825-56.272 39.579-70.966l0.358-0.206 112.64-827.085c3.373-24.107 23.841-42.463 48.602-42.496h0.003c0.018 0 0.039 0 0.060 0 2.386 0 4.734 0.161 7.035 0.474l-0.268-0.030c24.275 3.254 42.799 23.834 42.799 48.74 0 2.312-0.16 4.587-0.468 6.814l0.029-0.258-45.329 332.425c61.542 34.707 134.36 56.935 211.942 61.379l1.323 0.061c0.11 0 0.239 0 0.369 0 26.424 0 51.867-4.195 75.701-11.956l-1.728 0.487c23.163-7.052 43.133-15.549 61.964-25.865l-1.684 0.845c15.959-9.019 34.649-17.47 54.114-24.266l2.479-0.754c19.155-7.15 41.286-11.354 64.379-11.503h0.065c71.725 4.693 137.471 26.591 194.309 61.567l-1.831-1.048c7.892 3.827 14.653 8.636 20.49 14.38l-0.010-0.010c4.094 4.896 6.581 11.259 6.581 18.203 0 0.657-0.022 1.309-0.066 1.954l0.005-0.087v397.995c0.001 0.093 0.002 0.202 0.002 0.312 0 9.092-3.766 17.305-9.823 23.163l-0.009 0.009z</StreamGeometry>
			<StreamGeometry x:Key="trophygeom">M458 653c-42 92 -74 214 -74 371h-256v-96c0 -98 133 -234 330 -275zM1536 928v96h-256c0 -157 -32 -279 -74 -371c197 41 330 177 330 275zM1664 1056v-128c0 -190 -230 -400 -542 -415c-40 -51 -77 -81 -95 -95c-53 -48 -67 -98 -67 -162s32 -128 128 -128 s192 -64 192 -160v-64c0 -18 -14 -32 -32 -32h-832c-18 0 -32 14 -32 32v64c0 96 96 160 192 160s128 64 128 128s-14 114 -67 162c-18 14 -55 44 -95 95c-312 15 -542 225 -542 415v128c0 53 43 96 96 96h288v96c0 88 72 160 160 160h576c88 0 160 -72 160 -160v-96h288 c53 0 96 -43 96 -96z</StreamGeometry>
			<StreamGeometry x:Key="infogeom">M12.432,0c1.34,0,2.01,0.912,2.01,1.957c0,1.305-1.164,2.512-2.679,2.512c-1.269,0-2.009-0.75-1.974-1.99  C9.789,1.436,10.67,0,12.432,0z M8.309,20c-1.058,0-1.833-0.652-1.093-3.524l1.214-5.092c0.211-0.814,0.246-1.141,0-1.141  c-0.317,0-1.689,0.562-2.502,1.117L5.4,10.48c2.572-2.186,5.531-3.467,6.801-3.467c1.057,0,1.233,1.273,0.705,3.23l-1.391,5.352  c-0.246,0.945-0.141,1.271,0.106,1.271c0.317,0,1.357-0.392,2.379-1.207l0.6,0.814C12.098,19.02,9.365,20,8.309,20z</StreamGeometry>
			<StreamGeometry x:Key="back">M1017 1235l-531 -531l531 -531c25 -25 25 -65 0 -90l-166 -166c-25 -25 -65 -25 -90 0l-742 742c-25 25 -25 65 0 90l742 742c25 25 65 25 90 0l166 -166c25 -25 25 -65 0 -90z</StreamGeometry>
			<StreamGeometry x:Key="extlinkgeom">M1408 608v-320c0 -159 -129 -288 -288 -288h-832c-159 0 -288 129 -288 288v832c0 159 129 288 288 288h704c18 0 32 -14 32 -32v-64c0 -18 -14 -32 -32 -32h-704c-88 0 -160 -72 -160 -160v-832c0 -88 72 -160 160 -160h832c88 0 160 72 160 160v320c0 18 14 32 32 32 h64c18 0 32 -14 32 -32zM1792 1472v-512c0 -35 -29 -64 -64 -64c-17 0 -33 7 -45 19l-176 176l-652 -652c-6 -6 -15 -10 -23 -10s-17 4 -23 10l-114 114c-6 6 -10 15 -10 23s4 17 10 23l652 652l-176 176c-12 12 -19 28 -19 45c0 35 29 64 64 64h512c35 0 64 -29 64 -64z</StreamGeometry>
			<StreamGeometry x:Key="warninggeom">M22.7,17.5l-8.1-14c-0.8-1.4-2.7-1.9-4.1-1.1C10,2.7,9.6,3.1,9.4,3.5l-8.1,14c-0.8,1.4-0.3,3.3,1.1,4.1c0.5,0.3,1,0.4,1.5,0.4h16.1c1.7,0,3-1.4,3-3C23.1,18.4,22.9,17.9,22.7,17.5z M12,18c-0.6,0-1-0.4-1-1s0.4-1,1-1s1,0.4,1,1S12.6,18,12,18z M13,13c0,0.6-0.4,1-1,1s-1-0.4-1-1V9c0-0.6,0.4-1,1-1s1,0.4,1,1V13z</StreamGeometry>
			<StreamGeometry x:Key="warningopengeom">M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z</StreamGeometry>
			<StreamGeometry x:Key="refreshArrow">M463.5 224H472c13.3 0 24-10.7 24-24V72c0-9.7-5.8-18.5-14.8-22.2s-19.3-1.7-26.2 5.2L413.4 96.6c-87.6-86.5-228.7-86.2-315.8 1c-87.5 87.5-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3c62.2-62.2 162.7-62.5 225.3-1L327 183c-6.9 6.9-8.9 17.2-5.2 26.2s12.5 14.8 22.2 14.8H463.5z</StreamGeometry>
			<StreamGeometry x:Key="uparrowgeom">M150 281.25A9.375 9.375 0 0 0 159.375 271.875V50.75625L218.3625 109.7625A9.375 9.375 0 0 0 231.6375 96.4875L156.6375 21.4875A9.375 9.375 0 0 0 143.3625 21.4875L68.3625 96.4875A9.375 9.375 0 0 0 81.6375 109.7625L140.625 50.75625V271.875A9.375 9.375 0 0 0 150 281.25</StreamGeometry>
			<StreamGeometry x:Key="downarrowgeom">M150 18.75A9.375 9.375 0 0 1 159.375 28.125V249.24375L218.3625 190.2375A9.375 9.375 0 0 1 231.6375 203.5125L156.6375 278.5125000000001A9.375 9.375 0 0 1 143.3625 278.5125000000001L68.3625 203.5125A9.375 9.375 0 1 1 81.6375 190.2375L140.625 249.24375V28.125A9.375 9.375 0 0 1 150 18.75</StreamGeometry>
			<StreamGeometry x:Key="racehelmet">M2.2,11.2C2,13.6 2.7,15.6 4.2,17.4C5.7,19.2 7.7,20 10.1,20H20.1C20.6,20 21.1,19.8 21.5,19.4C21.9,19 22.1,18.5 22.1,18V17.2C22.1,16.6 22,15.9 21.9,15H13.7C12.7,15 11.9,14.6 11.2,13.9C10.5,13.2 10.1,12.3 10.1,11.4C10.1,9.8 10.8,8.7 12.3,8.1L17.1,6C15.4,4.8 13.4,4.1 11.1,4C8.9,3.8 6.9,4.5 5.1,5.9C3.3,7.3 2.4,9 2.2,11.2M12.1,11.4C12.1,11.8 12.3,12.2 12.6,12.5C12.9,12.8 13.3,13 13.7,13H21.5C20.9,10.8 20,9 18.7,7.6L13.1,9.9C12.4,10.1 12.1,10.6 12.1,11.4Z</StreamGeometry>
			<StreamGeometry x:Key="lightning">M 52.2573,19.0027L 38.0053,33.2546L 50.6737,33.2546L 25.3369,57.008L 35.4716,38.0053L 23.7533,38.0053L 36.4217,19.0027L 52.2573,19.0027 Z </StreamGeometry>
			<StreamGeometry x:Key="doubleLightning">M7.96,24.51h0.39l6.88-10.18c0.09-0.18,0.04-0.27-0.15-0.27h-2.84l2.99-5.45c0.09-0.18,0.02-0.27-0.2-0.27h-3.81  c-0.11,0-0.2,0.06-0.29,0.18l-2.78,7.4c-0.02,0.18,0.04,0.27,0.19,0.27h2.75L7.96,24.51z M16.46,18.18h0.27l5.22-7.67  c0.05-0.08,0.06-0.15,0.04-0.2s-0.08-0.07-0.17-0.07h-2.1l2.18-4.03c0.12-0.2,0.06-0.3-0.18-0.3h-2.74c-0.13,0-0.23,0.06-0.3,0.19  l-2.08,5.48c-0.03,0.09-0.03,0.16,0.01,0.21c0.04,0.05,0.1,0.07,0.19,0.07h2.04L16.46,18.18z</StreamGeometry>
			<StreamGeometry x:Key="geargeom">M12,8A4,4 0 0,1 16,12A4,4 0 0,1 12,16A4,4 0 0,1 8,12A4,4 0 0,1 12,8M12,10A2,2 0 0,0 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12A2,2 0 0,0 12,10M10,22C9.75,22 9.54,21.82 9.5,21.58L9.13,18.93C8.5,18.68 7.96,18.34 7.44,17.94L4.95,18.95C4.73,19.03 4.46,18.95 4.34,18.73L2.34,15.27C2.21,15.05 2.27,14.78 2.46,14.63L4.57,12.97L4.5,12L4.57,11L2.46,9.37C2.27,9.22 2.21,8.95 2.34,8.73L4.34,5.27C4.46,5.05 4.73,4.96 4.95,5.05L7.44,6.05C7.96,5.66 8.5,5.32 9.13,5.07L9.5,2.42C9.54,2.18 9.75,2 10,2H14C14.25,2 14.46,2.18 14.5,2.42L14.87,5.07C15.5,5.32 16.04,5.66 16.56,6.05L19.05,5.05C19.27,4.96 19.54,5.05 19.66,5.27L21.66,8.73C21.79,8.95 21.73,9.22 21.54,9.37L19.43,11L19.5,12L19.43,13L21.54,14.63C21.73,14.78 21.79,15.05 21.66,15.27L19.66,18.73C19.54,18.95 19.27,19.04 19.05,18.95L16.56,17.95C16.04,18.34 15.5,18.68 14.87,18.93L14.5,21.58C14.46,21.82 14.25,22 14,22H10Z</StreamGeometry>
			<StreamGeometry x:Key="fastpace">M222.537,232.693h49.21l-0.469-12.424l-19.929-1.29c-0.423-0.062-0.782-0.359-0.938-0.782l-1.681-6.458 c-0.141-0.399-0.078-0.86,0.156-1.212c0.25-0.351,0.657-0.563,1.095-0.563h18.951c-1.407-13.127-9.78-22.853-22.962-24.839 c-18.741-2.815-33.228,10.602-30.93,26.708C215.978,218.386,219.261,228.714,222.537,232.693z M259.628,196.51l-5.293-0.344 c0,0-2.432-3.135-4.527-5.575C251.903,190.591,257.189,192.686,259.628,196.51z M65.417,237.509c-28.796,0-52.142,23.346-52.142,52.149c0,28.804,23.346,52.149,52.142,52.149 c28.804,0,52.149-23.346,52.149-52.149C117.566,260.856,94.221,237.509,65.417,237.509z M65.417,317.156 c-15.176,0-27.49-12.298-27.49-27.498c0-15.191,12.314-27.49,27.49-27.49c15.2,0,27.498,12.299,27.498,27.49 C92.915,304.858,80.617,317.156,65.417,317.156z M65.417,281.121c-4.707,0-8.522,3.831-8.522,8.538c0,4.715,3.815,8.538,8.522,8.538 c4.715,0,8.546-3.823,8.546-8.538C73.963,284.952,70.132,281.121,65.417,281.121z M393.738,229.965c-38.874-5.817-78.622-9.453-110.967-11.72c-2.291,10.148-9.75,19.264-19.186,19.264 c-11.376,0-51.203,0-51.203,0v-22.751v-44.566c-61.97,6.756-101.288,39.296-124.165,64.268 c21.658,8.976,36.942,30.336,36.942,55.198c0,5.583-0.79,10.977-2.228,16.122h214.946c-1.439-5.145-2.228-10.539-2.228-16.122 C335.647,257.275,361.557,230.84,393.738,229.965z M65.417,229.926c1.9,0,3.768,0.102,5.614,0.266l10.508-14.496v-33.173H0v83.439l8.741,4.902 C16.646,247.111,39.061,229.926,65.417,229.926z M470.281,286.813v-9.476l18.021-9.476c0,0,3.331-11.04,3.331-18.624c-21.219-7.005-49.57-11.102-75.738-15.684 c22.862,8.397,39.217,30.375,39.217,56.105c0,5.583-0.79,10.977-2.236,16.122H512v-18.967H470.281z M395.38,237.509c-28.796,0-52.15,23.346-52.15,52.149c0,28.804,23.354,52.149,52.15,52.149 c28.804,0,52.149-23.346,52.149-52.149C447.529,260.856,424.184,237.509,395.38,237.509z M395.38,317.156 c-15.192,0-27.498-12.298-27.498-27.498c0-15.191,12.306-27.49,27.498-27.49c15.184,0,27.498,12.299,27.498,27.49 C422.878,304.858,410.564,317.156,395.38,317.156z M395.38,281.121c-4.715,0-8.538,3.831-8.538,8.538c0,4.715,3.823,8.538,8.538,8.538 c4.715,0,8.53-3.823,8.53-8.538C403.91,284.952,400.095,281.121,395.38,281.121z</StreamGeometry>
			<StreamGeometry x:Key="upArrow">M998 800c0 -8 -4 -17 -10 -23l-466 -466c-6 -6 -15 -10 -23 -10s-17 4 -23 10l-466 466c-6 6 -10 15 -10 23s4 17 10 23l50 50c6 6 14 10 23 10c8 0 17 -4 23 -10l393 -393l393 393c6 6 15 10 23 10s17 -4 23 -10l50 -50c6 -6 10 -15 10 -23z</StreamGeometry>
			<StreamGeometry x:Key="downArrow">M998 352c0 -8 -4 -17 -10 -23l-50 -50c-6 -6 -14 -10 -23 -10c-8 0 -17 4 -23 10l-393 393l-393 -393c-6 -6 -15 -10 -23 -10s-17 4 -23 10l-50 50c-6 6 -10 15 -10 23s4 17 10 23l466 466c6 6 15 10 23 10s17 -4 23 -10l466 -466c6 -6 10 -15 10 -23z</StreamGeometry>
			<StreamGeometry x:Key="tableIcon">M3 3h18v2H3V3zm0 4h18v2H3V7zm0 4h18v2H3v-2zm0 4h18v2H3v-2zm0 4h18v2H3v-2z</StreamGeometry>
						<StreamGeometry x:Key="searchIcon">M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z</StreamGeometry>

			<SolidColorBrush x:Key="boldItemBorder">#E5E7EB</SolidColorBrush>
			<SolidColorBrush x:Key="medItemBorder">#F3F4F6</SolidColorBrush>

			<!-- Disabled button colors -->
			<SolidColorBrush x:Key="ButtonDisabledBackgroundBrush">#E5E7EB</SolidColorBrush>
			<SolidColorBrush x:Key="ButtonDisabledForegroundBrush">#6B7280</SolidColorBrush>

			<!-- Global DataGrid tweak: remove sort icon width spacing -->
			<x:Double x:Key="DataGridSortIconMinWidth">0</x:Double>

			<ResourceDictionary.ThemeDictionaries>
				<ResourceDictionary x:Key="Light">
					<SolidColorBrush x:Key="TextTitleForegroundBrush">#111827</SolidColorBrush>
					<SolidColorBrush x:Key="TextH1ForegroundBrush">#111827</SolidColorBrush>
					<SolidColorBrush x:Key="TextTableHeaderForegroundBrush">#6B7280</SolidColorBrush>
					<SolidColorBrush x:Key="FlagOverlayBackgroundBrush">#F5FFFFFF</SolidColorBrush>
					<SolidColorBrush x:Key="TextLGForegroundBrush">#111827</SolidColorBrush>
					<SolidColorBrush x:Key="TextMedForegroundBrush">#374151</SolidColorBrush>
					<SolidColorBrush x:Key="TextSmbForegroundBrush">White</SolidColorBrush>
					<SolidColorBrush x:Key="TextCarNumForegroundBrush">#111827</SolidColorBrush>
					<SolidColorBrush x:Key="IconButtonForegroundBrush">#374151</SolidColorBrush>
					<SolidColorBrush x:Key="PositionsGainedForegroundBrush">#059669</SolidColorBrush>
					<SolidColorBrush x:Key="PositionsLostForegroundBrush">#DC2626</SolidColorBrush>
					<SolidColorBrush x:Key="PositionsNeutralForegroundBrush">#6B7280</SolidColorBrush>
					<SolidColorBrush x:Key="TimingTableHeaderBackgroundBrush">#E5E7EB</SolidColorBrush>
					<SolidColorBrush x:Key="TimingTableBackgroundBrush">White</SolidColorBrush>
					<SolidColorBrush x:Key="CarDetailsSeperatorBackgroundBrush">#E5E7EB</SolidColorBrush>

					<SolidColorBrush x:Key="EventRowBackgroundBrush">White</SolidColorBrush>
					<SolidColorBrush x:Key="EventRowHoverBackgroundBrush">#F9FAFB</SolidColorBrush>
					<SolidColorBrush x:Key="btnPointerOver">#F9FAFB</SolidColorBrush>
					<SolidColorBrush x:Key="lightAppBackground">#FFFFFF</SolidColorBrush>
					<SolidColorBrush x:Key="medAppBackground">#FFFFFF</SolidColorBrush>
					<SolidColorBrush x:Key="strongAppBackground">#111827</SolidColorBrush>

					<StaticResource x:Key="ButtonBackground" ResourceKey="medAppBackground"/>
					<StaticResource x:Key="AccentButtonBackgroundPointerOver" ResourceKey="btnPointerOver"/>

					<!--Timing - Car Row-->
					<Color x:Key="carRowNormalBackgroundBrush">Transparent</Color>
					<Color x:Key="carRowUpdatedBackgroundBrush">#fce3cf</Color>
					<Color x:Key="carRowStaleBackgroundBrush">#E5E7EB</Color>
					<SolidColorBrush x:Key="carRowLapTextForegroundNormalBrush">Black</SolidColorBrush>
					<SolidColorBrush x:Key="carRowLapTextForegroundBestBrush">#5da639</SolidColorBrush>
					<SolidColorBrush x:Key="carRowLapTextForegroundOverallBestBrush">#7C3AED</SolidColorBrush>

					<!--Flag Background-->
					<SolidColorBrush x:Key="timingFlagGreenBackground">#A8E6CF</SolidColorBrush>
					<SolidColorBrush x:Key="timingFlagYellowBackground">#FFD966</SolidColorBrush>
					<SolidColorBrush x:Key="timingFlagRedBackground">#FFB3B3</SolidColorBrush>
					<SolidColorBrush x:Key="timingFlagBlackBackground">Black</SolidColorBrush>
					<SolidColorBrush x:Key="timingFlagWhiteBackground">WhiteSmoke</SolidColorBrush>
					<SolidColorBrush x:Key="timingFlagPurpleBackground">#e685ff</SolidColorBrush>

					<!--Checkered Flag Pattern-->
					<DrawingBrush x:Key="timingFlagCheckeredBackground"
								  TileMode="Tile"
								  Stretch="None"
								  DestinationRect="0,0,80,80">
						<DrawingBrush.Drawing>
							<DrawingGroup>
								<!--Define checkered pattern: 2x2 grid with 40px squares-->
								<!--White squares-->
								<GeometryDrawing Brush="White">
									<GeometryDrawing.Geometry>
										<GeometryGroup>
											<RectangleGeometry Rect="0,0,40,40"/>
											<RectangleGeometry Rect="40,40,40,40"/>
										</GeometryGroup>
									</GeometryDrawing.Geometry>
								</GeometryDrawing>
								<!--Black squares-->
								<GeometryDrawing Brush="Black">
									<GeometryDrawing.Geometry>
										<GeometryGroup>
											<RectangleGeometry Rect="40,0,40,40"/>
											<RectangleGeometry Rect="0,40,40,40"/>
										</GeometryGroup>
									</GeometryDrawing.Geometry>
								</GeometryDrawing>
							</DrawingGroup>
						</DrawingBrush.Drawing>
					</DrawingBrush>

					<!--Event-->
					<SolidColorBrush x:Key="eventLiveBackground">#10B981</SolidColorBrush>
					<SolidColorBrush x:Key="eventLiveForeground">White</SolidColorBrush>
					<SolidColorBrush x:Key="eventSimulationBackground">#6B7280</SolidColorBrush>
					<SolidColorBrush x:Key="eventSimulationForeground">White</SolidColorBrush>

					<!--In Car Driver Mode-->
					<SolidColorBrush x:Key="carRowGainBackgroundBrush">#087800</SolidColorBrush>
					<SolidColorBrush x:Key="carRowLossBackgroundBrush">Red</SolidColorBrush>
					<SolidColorBrush x:Key="carRowOutOfClassBackgroundBrush">#b5b5b5</SolidColorBrush>
					<SolidColorBrush x:Key="carRowDriverBackgroundBrush">#7fccf7</SolidColorBrush>

					<!-- Pit State Colors -->
					<SolidColorBrush x:Key="PitStateInPitBrush">#075aa1</SolidColorBrush>
					<SolidColorBrush x:Key="PitStateEnteredBrush">#ff6743</SolidColorBrush>
					<SolidColorBrush x:Key="PitStateExitedBrush">#9ad337</SolidColorBrush>
					<SolidColorBrush x:Key="PitStateSfBrush">#475e1e</SolidColorBrush>

					<!-- UI Chrome Colors -->
					<SolidColorBrush x:Key="BorderPrimaryBrush">Gray</SolidColorBrush>
					<SolidColorBrush x:Key="LightningIconBrush">Orange</SolidColorBrush>
					<SolidColorBrush x:Key="ExpanderBackgroundBrush">LightGray</SolidColorBrush>
					<SolidColorBrush x:Key="ContrastForegroundBrush">Black</SolidColorBrush>
					<SolidColorBrush x:Key="ContrastForegroundInverseBrush">White</SolidColorBrush>

					<!-- Chart Colors -->
					<SolidColorBrush x:Key="ChartOverallPositionBrush">#FF9966</SolidColorBrush>
					<SolidColorBrush x:Key="ChartClassPositionBrush">#4A9DFF</SolidColorBrush>

					<!-- Lap Progress Bar -->
					<SolidColorBrush x:Key="LapProgressTrackBrush">#E5E7EB</SolidColorBrush>
					<SolidColorBrush x:Key="LapProgressNormalBrush">#3B82F6</SolidColorBrush>
					<SolidColorBrush x:Key="LapProgressOverrunBrush">#DC2626</SolidColorBrush>
					<SolidColorBrush x:Key="LapProgressMarkerBrush">#6B7280</SolidColorBrush>

					<!--Update Notifications-->
					<SolidColorBrush x:Key="OptionalUpdateBackgroundBrush">#FFF4CE</SolidColorBrush>
					<SolidColorBrush x:Key="OptionalUpdateBorderBrush">#F0AD4E</SolidColorBrush>
					<SolidColorBrush x:Key="OptionalUpdateButtonBackgroundBrush">#F0AD4E</SolidColorBrush>
					<SolidColorBrush x:Key="OptionalUpdateButtonForegroundBrush">White</SolidColorBrush>
					<SolidColorBrush x:Key="MandatoryUpdateOverlayBackgroundBrush">#CC000000</SolidColorBrush>
					<SolidColorBrush x:Key="MandatoryUpdateDialogBackgroundBrush">White</SolidColorBrush>
					<SolidColorBrush x:Key="MandatoryUpdateDialogBorderBrush">#DC3545</SolidColorBrush>
					<SolidColorBrush x:Key="MandatoryUpdateButtonBackgroundBrush">#0078D4</SolidColorBrush>
					<SolidColorBrush x:Key="MandatoryUpdateButtonForegroundBrush">White</SolidColorBrush>

					<x:String x:Key="sentinelImage">avares://RedMist.Timing.UI/Assets/sentinel-light.png</x:String>
					<x:String x:Key="mrlImage">avares://RedMist.Timing.UI/Assets/MRL_Logo_light.png</x:String>
				</ResourceDictionary>
				<ResourceDictionary x:Key="Dark">
					<!-- Disabled button colors -->
					<SolidColorBrush x:Key="ButtonDisabledBackgroundBrush">#374151</SolidColorBrush>
					<SolidColorBrush x:Key="ButtonDisabledForegroundBrush">#9CA3AF</SolidColorBrush>

					<SolidColorBrush x:Key="TextTitleForegroundBrush">#F9FAFB</SolidColorBrush>
					<SolidColorBrush x:Key="TextH1ForegroundBrush">#F9FAFB</SolidColorBrush>
					<SolidColorBrush x:Key="TextTableHeaderForegroundBrush">#B4BCC8</SolidColorBrush>
					<SolidColorBrush x:Key="FlagOverlayBackgroundBrush">#D9000000</SolidColorBrush>
					<SolidColorBrush x:Key="TextLGForegroundBrush">#F9FAFB</SolidColorBrush>
					<SolidColorBrush x:Key="TextMedForegroundBrush">#D1D5DB</SolidColorBrush>
					<SolidColorBrush x:Key="TextSmbForegroundBrush">White</SolidColorBrush>
					<SolidColorBrush x:Key="TextCarNumForegroundBrush">#F9FAFB</SolidColorBrush>
					<SolidColorBrush x:Key="IconButtonForegroundBrush">#D1D5DB</SolidColorBrush>
					<SolidColorBrush x:Key="EventRowBackgroundBrush">#1F2937</SolidColorBrush>
					<SolidColorBrush x:Key="EventRowHoverBackgroundBrush">#374151</SolidColorBrush>
					<SolidColorBrush x:Key="PositionsGainedForegroundBrush">#34D399</SolidColorBrush>
					<SolidColorBrush x:Key="PositionsLostForegroundBrush">#F87171</SolidColorBrush>
					<SolidColorBrush x:Key="PositionsNeutralForegroundBrush">#9CA3AF</SolidColorBrush>
					<SolidColorBrush x:Key="TimingTableHeaderBackgroundBrush">#374151</SolidColorBrush>
					<SolidColorBrush x:Key="TimingTableBackgroundBrush">#1F2937</SolidColorBrush>
					<SolidColorBrush x:Key="CarDetailsSeperatorBackgroundBrush">#4B5563</SolidColorBrush>

					<SolidColorBrush x:Key="btnPointerOver">#374151</SolidColorBrush>
					<SolidColorBrush x:Key="lightAppBackground">#1F2937</SolidColorBrush>
					<SolidColorBrush x:Key="medAppBackground">#111827</SolidColorBrush>
					<SolidColorBrush x:Key="strongAppBackground">#F9FAFB</SolidColorBrush>

					<StaticResource x:Key="ButtonBackground" ResourceKey="medAppBackground"/>
					<StaticResource x:Key="AccentButtonBackgroundPointerOver" ResourceKey="btnPointerOver"/>

					<!--Timing - Car Row-->
					<Color x:Key="carRowNormalBackgroundBrush">Transparent</Color>
					<Color x:Key="carRowUpdatedBackgroundBrush">#1E4A4A</Color>
					<Color x:Key="carRowStaleBackgroundBrush">#3A3530</Color>
					<SolidColorBrush x:Key="carRowLapTextForegroundNormalBrush">White</SolidColorBrush>
					<SolidColorBrush x:Key="carRowLapTextForegroundBestBrush">#78d44b</SolidColorBrush>
					<SolidColorBrush x:Key="carRowLapTextForegroundOverallBestBrush">#d3a2ff</SolidColorBrush>

					<!--Flag Background-->
					<SolidColorBrush x:Key="timingFlagGreenBackground">#2D6B2D</SolidColorBrush>
					<SolidColorBrush x:Key="timingFlagYellowBackground">#B89A2C</SolidColorBrush>
					<SolidColorBrush x:Key="timingFlagRedBackground">#8B2C2C</SolidColorBrush>
					<SolidColorBrush x:Key="timingFlagBlackBackground">Black</SolidColorBrush>
					<SolidColorBrush x:Key="timingFlagWhiteBackground">#b7b7b7</SolidColorBrush>
					<SolidColorBrush x:Key="timingFlagPurpleBackground">Purple</SolidColorBrush>

					<!--Checkered Flag Pattern (Dark Theme)-->
					<DrawingBrush x:Key="timingFlagCheckeredBackground"
								  TileMode="Tile"
								  Stretch="None"
								  DestinationRect="0,0,80,80">
						<DrawingBrush.Drawing>
							<DrawingGroup>
								<!--Define checkered pattern: 2x2 grid with 40px squares-->
								<!--White/Light gray squares for dark theme-->
								<GeometryDrawing Brush="#D1D5DB">
									<GeometryDrawing.Geometry>
										<GeometryGroup>
											<RectangleGeometry Rect="0,0,40,40"/>
											<RectangleGeometry Rect="40,40,40,40"/>
										</GeometryGroup>
									</GeometryDrawing.Geometry>
								</GeometryDrawing>
								<!--Dark gray squares for dark theme-->
								<GeometryDrawing Brush="#374151">
									<GeometryDrawing.Geometry>
										<GeometryGroup>
											<RectangleGeometry Rect="40,0,40,40"/>
											<RectangleGeometry Rect="0,40,40,40"/>
										</GeometryGroup>
									</GeometryDrawing.Geometry>
								</GeometryDrawing>
							</DrawingGroup>
						</DrawingBrush.Drawing>
					</DrawingBrush>

					<!--Event-->
					<SolidColorBrush x:Key="eventLiveBackground">#10B981</SolidColorBrush>
					<SolidColorBrush x:Key="eventLiveForeground">White</SolidColorBrush>
					<SolidColorBrush x:Key="eventSimulationBackground">#6B7280</SolidColorBrush>
					<SolidColorBrush x:Key="eventSimulationForeground">White</SolidColorBrush>

					<!--In Car Driver Mode-->
					<SolidColorBrush x:Key="carRowGainBackgroundBrush">#087800</SolidColorBrush>
					<SolidColorBrush x:Key="carRowLossBackgroundBrush">Red</SolidColorBrush>
					<SolidColorBrush x:Key="carRowOutOfClassBackgroundBrush">#b5b5b5</SolidColorBrush>
					<SolidColorBrush x:Key="carRowDriverBackgroundBrush">#7fccf7</SolidColorBrush>

					<!-- Pit State Colors -->
					<SolidColorBrush x:Key="PitStateInPitBrush">#0a7fd1</SolidColorBrush>
					<SolidColorBrush x:Key="PitStateEnteredBrush">#ff8563</SolidColorBrush>
					<SolidColorBrush x:Key="PitStateExitedBrush">#b5e357</SolidColorBrush>
					<SolidColorBrush x:Key="PitStateSfBrush">#6a8832</SolidColorBrush>

					<!-- UI Chrome Colors -->
					<SolidColorBrush x:Key="BorderPrimaryBrush">#4a4a4a</SolidColorBrush>
					<SolidColorBrush x:Key="LightningIconBrush">#ffa500</SolidColorBrush>
					<SolidColorBrush x:Key="ExpanderBackgroundBrush">#3a3a3a</SolidColorBrush>
					<SolidColorBrush x:Key="ContrastForegroundBrush">White</SolidColorBrush>
					<SolidColorBrush x:Key="ContrastForegroundInverseBrush">Black</SolidColorBrush>

					<!-- Chart Colors -->
					<SolidColorBrush x:Key="ChartOverallPositionBrush">#FF9966</SolidColorBrush>
					<SolidColorBrush x:Key="ChartClassPositionBrush">#4A9DFF</SolidColorBrush>

					<!-- Lap Progress Bar -->
					<SolidColorBrush x:Key="LapProgressTrackBrush">#374151</SolidColorBrush>
					<SolidColorBrush x:Key="LapProgressNormalBrush">#60A5FA</SolidColorBrush>
					<SolidColorBrush x:Key="LapProgressOverrunBrush">#F87171</SolidColorBrush>
					<SolidColorBrush x:Key="LapProgressMarkerBrush">#9CA3AF</SolidColorBrush>

					<!--Update Notifications-->
					<SolidColorBrush x:Key="OptionalUpdateBackgroundBrush">#3d3418</SolidColorBrush>
					<SolidColorBrush x:Key="OptionalUpdateBorderBrush">#F0AD4E</SolidColorBrush>
					<SolidColorBrush x:Key="OptionalUpdateButtonBackgroundBrush">#F0AD4E</SolidColorBrush>
					<SolidColorBrush x:Key="OptionalUpdateButtonForegroundBrush">Black</SolidColorBrush>
					<SolidColorBrush x:Key="MandatoryUpdateOverlayBackgroundBrush">#CC000000</SolidColorBrush>
					<SolidColorBrush x:Key="MandatoryUpdateDialogBackgroundBrush">#2b2b2b</SolidColorBrush>
					<SolidColorBrush x:Key="MandatoryUpdateDialogBorderBrush">#DC3545</SolidColorBrush>
					<SolidColorBrush x:Key="MandatoryUpdateButtonBackgroundBrush">#0078D4</SolidColorBrush>
					<SolidColorBrush x:Key="MandatoryUpdateButtonForegroundBrush">White</SolidColorBrush>

					<x:String x:Key="sentinelImage">avares://RedMist.Timing.UI/Assets/sentinel-dark.png</x:String>
					<x:String x:Key="mrlImage">avares://RedMist.Timing.UI/Assets/MRL_Logo.png</x:String>
				</ResourceDictionary>
			</ResourceDictionary.ThemeDictionaries>
		</ResourceDictionary>
	</Application.Resources>

	<Application.Styles>
		<StyleInclude Source="avares://Avalonia.Controls.DataGrid/Themes/Fluent.xaml"/>
		<FluentTheme>
			<FluentTheme.Palettes>
				<ColorPaletteResources x:Key="Light" Accent="#ff6B7280" AltHigh="White" AltLow="White" AltMedium="White" AltMediumHigh="White" AltMediumLow="White" BaseHigh="Black" BaseLow="#ff9CA3AF" BaseMedium="#ff6B7280" BaseMediumHigh="#ff4B5563" BaseMediumLow="#ff9CA3AF" ChromeAltLow="#ff4B5563" ChromeBlackHigh="Black" ChromeBlackLow="#ff9CA3AF" ChromeBlackMedium="#ff4B5563" ChromeBlackMediumLow="#ff6B7280" ChromeDisabledHigh="#ffD1D5DB" ChromeDisabledLow="#ffE5E7EB" ChromeGray="#ff9CA3AF" ChromeHigh="#ff6B7280" ChromeLow="#ffE5E7EB" ChromeMedium="#ffD1D5DB" ChromeMediumLow="#ffE5E7EB" ChromeWhite="White" ListLow="#ffD1D5DB" ListMedium="#ff6B7280" RegionColor="#fff1f1f1" />
				<ColorPaletteResources x:Key="Dark" Accent="#ff6B7280" AltHigh="Black" AltLow="Black" AltMedium="Black" AltMediumHigh="Black" AltMediumLow="Black" BaseHigh="White" BaseLow="#ff9CA3AF" BaseMedium="#ff6B7280" BaseMediumHigh="#ff9CA3AF" BaseMediumLow="#ff4B5563" ChromeAltLow="#ff9CA3AF" ChromeBlackHigh="Black" ChromeBlackLow="#ff9CA3AF" ChromeBlackMedium="Black" ChromeBlackMediumLow="Black" ChromeDisabledHigh="#ff4B5563" ChromeDisabledLow="#ff6B7280" ChromeGray="#ff9CA3AF" ChromeHigh="#ff9CA3AF" ChromeLow="#ff374151" ChromeMedium="#ff4B5563" ChromeMediumLow="#ff6B7280" ChromeWhite="White" ListLow="#ff4B5563" ListMedium="#ff6B7280" RegionColor="Black" />
			</FluentTheme.Palettes>
		</FluentTheme>

		<!-- Global control styles -->
		<Style Selector="DataGridCell">
			<Setter Property="FontSize" Value="10" />
			<Setter Property="MinHeight" Value="20" />
		</Style>

		<Style Selector="DataGridColumnHeader">
			<Setter Property="FontSize" Value="12" />
			<Setter Property="MinHeight" Value="20" />
			<Setter Property="Padding" Value="3,0,0,0" />
			<Setter Property="Background" Value="{DynamicResource TimingTableHeaderBackgroundBrush}"/>
			<Setter Property="Foreground" Value="{DynamicResource TextTableHeaderForegroundBrush}"/>
			<Setter Property="SeparatorBrush" Value="{DynamicResource BorderPrimaryBrush}"/>
			<Setter Property="BorderBrush" Value="{DynamicResource BorderPrimaryBrush}"/>
		</Style>

		<!-- Pit label style used in Live Timing rows -->
		<Style Selector="TextBlock.pit">
			<Setter Property="FontSize" Value="9"/>
			<Setter Property="FontWeight" Value="Bold"/>
			<Setter Property="Foreground" Value="{DynamicResource TextSmbForegroundBrush}"/>
			<Setter Property="HorizontalAlignment" Value="Center"/>
			<Setter Property="VerticalAlignment" Value="Center"/>
		</Style>

		<Style Selector="TextBlock.title">
			<Setter Property="FontSize" Value="15"/>
			<Setter Property="FontWeight" Value="SemiBold"/>
			<Setter Property="Foreground" Value="{DynamicResource TextTitleForegroundBrush}"/>
		</Style>
		<Style Selector="TextBlock.h1">
			<Setter Property="FontSize" Value="12"/>
			<Setter Property="Foreground" Value="{DynamicResource TextH1ForegroundBrush}"/>
		</Style>
		<Style Selector="TextBlock.tableheader">
			<Setter Property="FontSize" Value="12"/>
			<Setter Property="Foreground" Value="{DynamicResource TextTableHeaderForegroundBrush}"/>
		</Style>
		<Style Selector="TextBlock.lg">
			<Setter Property="FontSize" Value="14"/>
			<Setter Property="FontWeight" Value="Bold"/>
			<Setter Property="Foreground" Value="{DynamicResource TextLGForegroundBrush}"/>
		</Style>
		<Style Selector="TextBlock.med">
			<Setter Property="FontSize" Value="13"/>
			<Setter Property="Foreground" Value="{DynamicResource TextMedForegroundBrush}"/>
		</Style>
		<Style Selector="TextBlock.sm">
			<Setter Property="FontSize" Value="11"/>
		</Style>
		<Style Selector="TextBlock.smb">
			<Setter Property="FontSize" Value="9"/>
			<Setter Property="FontWeight" Value="Bold"/>
			<Setter Property="Foreground" Value="{DynamicResource TextSmbForegroundBrush}"/>
		</Style>
		<Style Selector="TextBlock.classgrp">
			<Setter Property="FontSize" Value="14"/>
			<Setter Property="FontWeight" Value="Bold"/>
			<Setter Property="Foreground" Value="{DynamicResource TextSmbForegroundBrush}"/>
		</Style>
		<Style Selector="TextBlock.carnum">
			<Setter Property="FontSize" Value="11"/>
			<Setter Property="FontWeight" Value="Bold"/>
			<Setter Property="Foreground" Value="{DynamicResource TextCarNumForegroundBrush}"/>
		</Style>
		<Style Selector="TextBlock.sch">
			<Setter Property="FontSize" Value="10"/>
			<Setter Property="Foreground" Value="{DynamicResource TextTableHeaderForegroundBrush}"/>
		</Style>
		<Style Selector="TextBlock.flagduration">
			<Setter Property="FontSize" Value="11"/>
			<Setter Property="VerticalAlignment" Value="Center"/>
		</Style>
		<Style Selector="TextBlock.flagdurationheader">
			<Setter Property="FontSize" Value="13"/>
			<Setter Property="VerticalAlignment" Value="Bottom"/>
			<Setter Property="FontWeight" Value="SemiBold"/>
		</Style>

		<!-- Event Information Styles -->
		<Style Selector="TextBlock.eventRowHeader">
			<Setter Property="FontSize" Value="14"/>
			<Setter Property="FontWeight" Value="SemiBold"/>
			<Setter Property="Foreground" Value="{DynamicResource TextLGForegroundBrush}"/>
		</Style>
		<Style Selector="TextBlock.eventSubRow">
			<Setter Property="FontSize" Value="11"/>
			<Setter Property="Foreground" Value="{DynamicResource TextMedForegroundBrush}"/>
			<Setter Property="Margin" Value="16,0,0,0"/>
		</Style>

		<Style Selector="Button.back">
			<Setter Property="Content">
				<Setter.Value>
					<Template>
						<PathIcon Height="25" Width="25" Foreground="{DynamicResource IconButtonForegroundBrush}" Data="{StaticResource back}" VerticalAlignment="Top" Margin="0,1,0,0"/>
					</Template>
				</Setter.Value>
			</Setter>
		</Style>

		<Style Selector="Button.icon">
			<Setter Property="Height" Value="20"/>
			<Setter Property="BorderThickness" Value="0"/>
			<Setter Property="Padding" Value="3"/>
			<Setter Property="Background" Value="Transparent"/>
		</Style>

		<Style Selector="Button.link">
			<Setter Property="Foreground" Value="Blue" />
			<Setter Property="Padding" Value="0" />
			<Setter Property="Cursor" Value="Hand" />
			<Setter Property="BorderThickness" Value="0" />
			<Setter Property="Background" Value="Transparent" />
			<Setter Property="Template">
				<ControlTemplate>
					<ContentPresenter Content="{TemplateBinding Content}">
						<ContentPresenter.Styles>
							<Style Selector="TextBlock">
								<Setter Property="Foreground" Value="{TemplateBinding Foreground}"/>
								<Setter Property="FontSize" Value="{TemplateBinding FontSize}"/>
								<Setter Property="TextDecorations" Value="Underline"/>
							</Style>
						</ContentPresenter.Styles>
					</ContentPresenter>
				</ControlTemplate>
			</Setter>
		</Style>

		<!-- Disabled button styles -->
		<Style Selector="Button:disabled">
			<Setter Property="Background" Value="{DynamicResource ButtonDisabledBackgroundBrush}"/>
			<Setter Property="Foreground" Value="{DynamicResource ButtonDisabledForegroundBrush}"/>
			<Setter Property="BorderBrush" Value="{DynamicResource ButtonDisabledBackgroundBrush}"/>
		</Style>
		<Style Selector="Button:disabled /template/ ContentPresenter">
			<Setter Property="Background" Value="{DynamicResource ButtonDisabledBackgroundBrush}"/>
			<Setter Property="BorderBrush" Value="{DynamicResource ButtonDisabledBackgroundBrush}"/>
			<Setter Property="Foreground" Value="{DynamicResource ButtonDisabledForegroundBrush}"/>
		</Style>
		<Style Selector="Button:disabled Path">
			<Setter Property="Stroke" Value="{DynamicResource ButtonDisabledForegroundBrush}"/>
			<Setter Property="Fill" Value="{DynamicResource ButtonDisabledForegroundBrush}"/>
		</Style>
		<Style Selector="Button:disabled TextBlock">
			<Setter Property="Foreground" Value="{DynamicResource ButtonDisabledForegroundBrush}"/>
		</Style>
		<Style Selector="Button:disabled PathIcon">
			<Setter Property="Foreground" Value="{DynamicResource ButtonDisabledForegroundBrush}"/>
		</Style>

	</Application.Styles>
</Application>
